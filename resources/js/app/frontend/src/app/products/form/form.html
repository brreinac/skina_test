<div class="card shadow-sm border-0">
  <div class="card-header bg-primary text-white">
    <h5 class="mb-0">{{ id ? 'Editar Producto' : 'Crear Producto' }}</h5>
  </div>

  <div class="card-body">
    <div class="mb-3">
      <label class="form-label fw-bold">Nombre</label>
      <input
        [(ngModel)]="name"
        name="name"
        class="form-control"
        [disabled]="saving"
        required
        maxlength="255"
        placeholder="Ingrese el nombre del producto"
      />
    </div>

    <div class="mb-3">
      <label class="form-label fw-bold">Subcategorías</label>
      <select
        multiple
        class="form-select"
        [(ngModel)]="subcategoryIds"
        name="subcategoryIds"
        [disabled]="saving"
      >
        <option *ngFor="let s of subcategories" [ngValue]="s.id">
          {{ s.name ?? s.nombre ?? '—' }}
        </option>
      </select>
      <small class="text-muted">Mantén presionada la tecla Ctrl (o Cmd en Mac) para seleccionar varias.</small>
    </div>

    <div class="d-flex justify-content-end">
      <button
        class="btn btn-success"
        (click)="save()"
        [disabled]="saving || !name.trim()"
      >
        <span *ngIf="saving" class="spinner-border spinner-border-sm me-1"></span>
        Guardar
      </button>

      <button
        class="btn btn-secondary ms-2"
        type="button"
        (click)="cancel()"
        [disabled]="saving"
      >
        Cancelar
      </button>
    </div>
  </div>
</div>
